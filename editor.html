<!DOCTYPE html>
<html>
<head>
  <title>Editor</title>
  <style>
    #link-input { display: none; }
    .pink-container { background-color: pink; padding: 10px; margin: 5px; display: inline-block; cursor: pointer; position: relative; } /* Add position relative */
    .delete-button { position: absolute; top: 5px; right: 5px; background-color: red; color: white; border: none; padding: 2px 5px; cursor: pointer; }
    #done-button { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Editor</h2>
    <input type="text" id="link-input" placeholder="Paste Google Drive link">
    <button onclick="showInput()">Add Link</button>
    <div id="links-display"></div>
    <button id="done-button" onclick="doneAdding()">Done</button>
  </div>

  <script>
    // ... (rest of the JavaScript code is the same as before)

    function displayLinks() {
      linksDisplay.innerHTML = '';
      links.forEach((linkObj, index) => {
        const linkContainer = document.createElement('div');
        linkContainer.className = 'pink-container';
        linkContainer.textContent = linkObj.link;

        const deleteButton = document.createElement('button');
        deleteButton.className = 'delete-button';
        deleteButton.textContent = 'X';
        deleteButton.addEventListener('click', () => deleteLink(index)); // Add delete event listener
        linkContainer.appendChild(deleteButton); // Add delete button to container

        linksDisplay.appendChild(linkContainer);
      });
      doneButton.style.display = links.length > 0 ? 'block' : 'none';
    }

    function deleteLink(index) {
        fetch('/.netlify/functions/update-links', {
            method: 'DELETE',
            body: JSON.stringify({ index })
        })
        .then(res => {
            if (!res.ok) {
                throw new Error(`HTTP error! status: ${res.status}`);
            }
            return res.json();
        })
        .then(() => {
            links.splice(index, 1); // Remove from local array
            displayLinks(); // Update the display
            new BroadcastChannel('newLink').postMessage({ deleted: true }); // Notify customer page
        })
        .catch(err => console.error("Delete Error:", err));
    }

    // ... (rest of the JavaScript code is the same as before)
  </script>
</body>
</html>